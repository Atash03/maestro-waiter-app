# Maestro Waiter App - Development Progress

## 2026-01-19

### Task 1.1: Install required dependencies (COMPLETED)

**Dependencies Installed:**
- zustand@5.0.10 (state management)
- @tanstack/react-query@5.90.19 (server state)
- axios@1.13.2 (HTTP client)
- react-native-sse@1.2.1 (Server-Sent Events)
- @react-native-async-storage/async-storage@2.2.0 (persistence)
- react-native-uuid@2.0.3 (device ID generation)
- react-native-toast-message@2.3.3 (notifications)
- expo-secure-store@15.0.8 (secure credential storage)

**Testing Dependencies Installed:**
- jest@30.2.0
- jest-expo@54.0.16
- @types/jest@30.0.0
- @testing-library/react-native@13.3.3
- @testing-library/jest-native@5.4.3
- ts-jest@29.4.6

**Files Created:**
- jest.config.js - Jest configuration for Expo
- jest.setup.js - Jest setup with mocks for native modules
- src/__tests__/dependencies.test.ts - Tests to verify all dependencies are installed correctly

**Test Results:**
- 12 tests passing, all dependencies verified to be correctly installed and importable

**Linting:**
- All files pass Biome linting checks

---

### Task 1.2: Create TypeScript types from API documentation (COMPLETED)

**Files Created:**
- `src/types/enums.ts` - All enums (Role, OrderType, OrderStatus, OrderItemStatus, WaiterCallStatus, MenuCategoryType, PaymentMethod, ReservationStatus, CustomerType, DeviceType, DevicePlatform, SortOrder, ServiceFeeType, DiscountType, DiscountValueType, DiscountApplicableTo, BillStatus, ReasonTemplateType, DayOfWeek)
- `src/types/models.ts` - Domain models (Translation, Account, Zone, Table, WaiterCall, MenuCategory, MenuItemAvailability, Extra, MenuItem, CustomerAddress, Customer, OrderItemExtra, OrderItem, Order, BillItem, Bill, BillDiscount, Payment, Discount, ServiceFee, Reservation, ReasonTemplate)
- `src/types/api.ts` - All API request/response types including:
  - Common types (PaginatedResponse, PaginationParams, SortParams, ApiError)
  - Authentication types (LoginRequest, LoginResponse, CheckSessionResponse)
  - Waiter call types (CreateWaiterCallRequest, GetWaiterCallsParams, etc.)
  - Order types (CreateOrderRequest, GetOrdersParams, UpdateOrderRequest, etc.)
  - Order item types (CreateOrderItemRequest, BatchCreateOrderItemsRequest, BatchUpdateOrderItemStatusRequest, KitchenViewResponse, etc.)
  - Table & Zone types
  - Menu types
  - Customer types
  - Bill & Payment types
  - Discount types
  - Reservation types
  - Service Fee types
  - Reason Template types
  - SSE Event types (WaiterCallEvent, OrderCreatedEvent, OrderItemCreatedEvent, etc.)
- `src/types/index.ts` - Central export file for all types

**Files Modified:**
- `jest.config.js` - Added ts-jest transform for proper TypeScript support

**Tests Created:**
- `src/__tests__/types.test.ts` - 70 tests covering:
  - All 19 enums with value verification
  - 14 model types with object creation
  - 12 API request/response types
  - 5 SSE event types
  - Type export verification

**Test Results:**
- 82 tests passing (12 dependency tests + 70 type tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.3: Implement API client (COMPLETED)

**Files Created:**
- `src/services/api/client.ts` - Full-featured API client with:
  - `ApiClient` class with configurable base URL, timeout, and retry settings
  - `ApiClientError` custom error class with status code, error code, and retry flag
  - Request interceptor for automatic session header injection (maestro-session-id, x-device-id, x-device-type, x-device-platform, x-device-name, x-app-version)
  - Response interceptor for error handling:
    - 401 (Unauthorized): Clears session and triggers onUnauthorized callback
    - 403 (Forbidden): Triggers onForbidden callback with error message
  - Exponential backoff retry logic for network failures and server errors
  - HTTP methods: GET, POST, PUT, PATCH, DELETE
  - Session management: setSessionInfo, getSessionInfo
  - Platform utilities: getDevicePlatform, getDeviceType
  - Singleton pattern: initializeApiClient, getApiClient, isApiClientInitialized, resetApiClient
- `src/services/api/index.ts` - Central export file for API services

**Tests Created:**
- `src/__tests__/api-client.test.ts` - 33 tests covering:
  - Constructor and axios instance creation
  - Session management (set/get/clear)
  - Request interceptor header injection
  - Response error handling (401, 403, network errors, timeout, server errors)
  - HTTP methods (GET, POST, PUT, PATCH, DELETE)
  - Retry logic with exponential backoff
  - ApiClientError class
  - Singleton functions
  - Platform utilities

**Test Results:**
- 115 tests passing (12 dependency + 70 types + 33 API client tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.4: Create API endpoint modules (COMPLETED)

**Files Created/Updated:**
- `src/services/api/auth.ts` - Authentication endpoints:
  - `login(request)` - POST /auth/login
  - `checkSession()` - GET /auth/check
  - `logout()` - POST /auth/logout

- `src/services/api/orders.ts` - Order CRUD operations:
  - `createOrder(request)` - POST /order
  - `getOrders(params?)` - GET /order with query params
  - `getOrder(id)` - GET /order/:id
  - `updateOrder(id, request)` - PUT /order/:id

- `src/services/api/orderItems.ts` - Order item operations:
  - `createOrderItem(request)` - POST /order-item
  - `batchCreateOrderItems(request)` - POST /order-item/batch
  - `getOrderItems(params?)` - GET /order-item
  - `getOrderItem(id)` - GET /order-item/:id
  - `updateOrderItem(id, request)` - PUT /order-item/:id
  - `batchUpdateOrderItemStatus(request)` - PATCH /order-item/batch/status
  - `getKitchenView()` - GET /order-item/kitchen/view

- `src/services/api/tables.ts` - Table queries:
  - `getTables(params?)` - GET /table
  - `getTable(id)` - GET /table/:id

- `src/services/api/zones.ts` - Zone queries:
  - `getZones(params?)` - GET /zone
  - `getZone(id)` - GET /zone/:id

- `src/services/api/menu.ts` - Menu categories and items:
  - `getMenuCategories(params?)` - GET /menu-category
  - `getMenuCategory(id)` - GET /menu-category/:id
  - `getMenuItems(params?)` - GET /menu-item
  - `getMenuItem(id)` - GET /menu-item/:id

- `src/services/api/waiterCalls.ts` - Waiter call management:
  - `createWaiterCall(request)` - POST /waiter-call
  - `getWaiterCalls(params?)` - GET /waiter-call
  - `getWaiterCall(id)` - GET /waiter-call/:id
  - `acknowledgeWaiterCall(id)` - PUT /waiter-call/:id/acknowledge
  - `completeWaiterCall(id)` - PUT /waiter-call/:id/complete
  - `cancelWaiterCall(id)` - PUT /waiter-call/:id/cancel

- `src/services/api/bills.ts` - Billing operations:
  - `createBill(request)` - POST /bill
  - `getBills(params?)` - GET /bill
  - `getBill(id)` - GET /bill/:id
  - `updateBill(id, request)` - PUT /bill/:id
  - `updateBillDiscounts(id, request)` - PUT /bill/:id/discounts
  - `calculateBill(request)` - POST /bill/calculate

- `src/services/api/payments.ts` - Payment processing:
  - `createPayment(request)` - POST /payment
  - `getPayments(params?)` - GET /payment

- `src/services/api/customers.ts` - Customer lookup:
  - `getCustomers(params?)` - GET /customer
  - `getCustomer(id)` - GET /customer/:id

- `src/services/api/discounts.ts` - Discount queries:
  - `getDiscounts(params?)` - GET /discount
  - `getDiscount(id)` - GET /discount/:id
  - `calculateDiscounts(request)` - POST /discount/calculate

- `src/services/api/extras.ts` - Extras queries:
  - `getExtras(params?)` - GET /extra
  - `getExtra(id)` - GET /extra/:id

- `src/services/api/index.ts` - Updated to export all endpoint modules

**Tests Created:**
- `src/__tests__/api-endpoints.test.ts` - 55 tests covering:
  - Auth API (3 tests): login, checkSession, logout
  - Orders API (5 tests): createOrder, getOrders with/without params, getOrder, updateOrder
  - Order Items API (7 tests): createOrderItem, batchCreateOrderItems, getOrderItems, getOrderItem, updateOrderItem, batchUpdateOrderItemStatus, getKitchenView
  - Tables API (3 tests): getTables with/without params, getTable
  - Zones API (3 tests): getZones with/without params, getZone
  - Menu API (6 tests): getMenuCategories with/without params, getMenuCategory, getMenuItems with/without params, getMenuItem
  - Waiter Calls API (7 tests): createWaiterCall, getWaiterCalls with/without params, getWaiterCall, acknowledgeWaiterCall, completeWaiterCall, cancelWaiterCall
  - Bills API (7 tests): createBill, getBills with/without params, getBill, updateBill, updateBillDiscounts, calculateBill
  - Payments API (3 tests): createPayment, getPayments with/without params
  - Customers API (3 tests): getCustomers with/without params, getCustomer
  - Discounts API (4 tests): getDiscounts with/without params, getDiscount, calculateDiscounts
  - Extras API (3 tests): getExtras with/without params, getExtra
  - API exports test (1 test): verifies all functions are exported from index

**Test Results:**
- 170 tests passing (12 dependency + 70 types + 33 API client + 55 API endpoints tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.5: Implement auth store (COMPLETED)

**Files Created:**
- `src/stores/authStore.ts` - Full-featured Zustand authentication store with:
  - `AuthState` interface defining all state and actions
  - Session ID storage (persisted securely using expo-secure-store)
  - User account info (Account from API)
  - Device ID management (generate UUID once on first launch, persist across app reinstalls)
  - `initialize()` - Restores session on app start, validates with server
  - `login(request, rememberMe?)` - Authenticates user, saves session, updates API client
  - `logout()` - Clears session, calls API logout, clears storage
  - `validateSession()` - Checks if current session is still valid with server
  - `clearError()` - Clears error messages
  - `setRememberMe(value)` - Sets remember me preference
  - Automatic API client session header injection
  - SecureStore with AsyncStorage fallback for environments where SecureStore isn't available
  - "Remember me" feature that saves username for next login
- `src/stores/index.ts` - Central export file for stores

**Custom Hooks Exported:**
- `useAuthStore` - Full store access
- `useIsAuthenticated` - Optimized hook for auth status only
- `useAccount` - Optimized hook for account info only
- `useAuthLoading` - Loading states (isInitializing, isLoggingIn, isLoggingOut)
- `useAuthError` - Error state only
- `useRememberMe` - Remember me data (rememberMe flag and savedUsername)

**Files Modified:**
- `jest.setup.js` - Updated AsyncStorage mock to use proper structure with __esModule flag

**Tests Created:**
- `src/__tests__/auth-store.test.ts` - 31 tests covering:
  - Initial state verification
  - Device ID creation and persistence
  - Session restoration on initialize
  - Invalid session handling
  - Remember me preference loading
  - SecureStore to AsyncStorage fallback
  - Successful login with session persistence
  - Login progress state (isLoggingIn)
  - Remember me username saving
  - Login failure error handling
  - Device ID not initialized error
  - API client session info updates
  - Successful logout with session clearing
  - Logout progress state (isLoggingOut)
  - Logout error resilience (clears session even if API fails)
  - Session validation
  - Error clearing
  - Remember me preference setting
  - Hook exports verification
  - AuthState type export verification
  - Store index exports verification

**Test Results:**
- 201 tests passing (12 dependency + 70 types + 33 API client + 55 API endpoints + 31 auth store tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.6: Create Login Screen (COMPLETED)

**Files Created/Updated:**
- `app/(auth)/login.tsx` - Full-featured login screen with:
  - Clean, branded design with Maestro logo (M in primary color)
  - Welcome title and subtitle animation on mount
  - Username and password fields with validation
  - Real-time field error clearing on input change
  - "Remember me" checkbox option using SecureStore (via authStore)
  - Loading state with ActivityIndicator during authentication
  - Comprehensive error handling with user-friendly messages:
    - 401: "Invalid username or password"
    - 403: Device limit exceeded message
    - Network error: "Unable to connect to server"
    - Timeout: "Connection timed out"
  - Animated logo entrance (scale + opacity with spring)
  - Animated form entrance (slide up + fade in)
  - Shake animation on validation/login errors
  - Button press animation (scale feedback)
  - KeyboardAvoidingView for proper keyboard handling
  - Auto-redirect to main app when authenticated
  - Pre-filled username when "Remember me" was enabled
  - All interactive elements have testIDs for testing

- `app/(auth)/_layout.tsx` - Auth group layout:
  - Stack navigator with hidden headers
  - Login screen registration

- `app/_layout.tsx` - Root layout with:
  - React Query provider setup
  - API client initialization
  - Auth store initialization on app start
  - Protected route logic (redirect to login if not authenticated)
  - Loading screen while initializing
  - Theme provider (light/dark mode support)
  - SplashScreen management

**Tests Created:**
- `src/__tests__/login-screen.test.tsx` - 16 tests covering:
  - Auth store integration (hook usage, authentication state)
  - Login API error handling (401, 403, network, timeout)
  - Remember me feature (saved username, disabled state)
  - Login function (credentials, remember me flag, error rejection)
  - Loading state tracking
  - Error state tracking and clearing
  - Module exports verification

**Test Results:**
- 217 tests passing (12 dependency + 70 types + 33 API client + 55 API endpoints + 31 auth store + 16 login screen tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.7: Implement protected route logic (COMPLETED)

**Files Created:**
- `src/hooks/useProtectedRoute.ts` - Protected route hook with:
  - `useProtectedRoute()` - Main hook for managing auth-based navigation
    - Returns `isNavigationReady` and `isCheckingAuth` states
    - Redirects unauthenticated users to login screen
    - Redirects authenticated users away from auth screens to main app
    - Handles navigation ready state checking
  - `useIsRouteProtected()` - Simple hook to check if current route is protected
    - Returns true when in `(tabs)` or `(main)` route groups
  - `useAuthCallbacks()` - Hook to set up API client callbacks for auth errors
    - Sets `onUnauthorized` callback (401) - logs out and redirects to login
    - Sets `onForbidden` callback (403) - logs warning for debugging
- `src/hooks/index.ts` - Central export file for custom hooks

**Files Updated:**
- `src/services/api/client.ts` - Added public getter/setter properties for callbacks:
  - `onUnauthorized` - Property getter/setter for 401 callback
  - `onForbidden` - Property getter/setter for 403 callback
  - Deprecated `setOnUnauthorized()` and `setOnForbidden()` methods in favor of properties
- `app/_layout.tsx` - Updated to use new hooks:
  - Uses `useProtectedRoute()` for navigation management
  - Uses `useAuthCallbacks()` to set up API error handlers
  - Simplified navigation logic by delegating to hooks
- `jest.config.js` - Added protected-route.test.ts to test match patterns

**Tests Created:**
- `src/__tests__/protected-route.test.ts` - 24 tests covering:
  - useProtectedRoute hook:
    - Navigation ready state detection
    - Auth checking state during initialization
    - Redirect to login when not authenticated
    - Redirect to tabs when authenticated in auth group
    - No redirect when authenticated in main group
    - No redirect when not authenticated in auth group
    - No navigation when navigation not ready
    - (main) group handled as protected route
  - useIsRouteProtected hook:
    - Returns true for (tabs) group
    - Returns true for (main) group
    - Returns false for (auth) group
    - Returns false at root
  - useAuthCallbacks hook:
    - Sets onUnauthorized callback on API client
    - Sets onForbidden callback on API client
    - Calls logout and redirects when onUnauthorized triggered
    - Logs warning when onForbidden triggered
  - Hook exports verification
  - Hooks index exports verification
  - API client callback properties

**Test Results:**
- 241 tests passing (12 dependency + 70 types + 33 API client + 55 API endpoints + 31 auth store + 16 login screen + 24 protected route tests)

**Linting:**
- All files pass Biome linting checks

---

### Task 1.8: Create base UI components (COMPLETED)

**Files Created:**
- `components/ui/Button.tsx` - Full-featured button component with:
  - Variants: primary, secondary, outline, ghost, destructive
  - Sizes: sm, md, lg
  - Loading state with ActivityIndicator
  - Disabled state with visual feedback
  - Press animation using React Native Reanimated
  - Left/right icon support
  - Full width option
  - Theme-aware colors

- `components/ui/Input.tsx` - Text input component with:
  - Label, error, and hint support
  - Left/right icon support
  - Focus animation on border
  - Disabled state
  - Theme-aware colors

- `components/ui/Card.tsx` - Container component with:
  - Padding options: none, sm, md, lg
  - Elevated (shadow) option
  - Bordered option
  - Pressable with animation
  - Theme-aware colors

- `components/ui/Badge.tsx` - Status badge component with:
  - Variants: default, primary, success, warning, error, info, available, occupied, reserved, pending, preparing, ready
  - Sizes: sm, md, lg
  - Theme-aware colors matching PRD status colors

- `components/ui/Avatar.tsx` - Avatar component with:
  - Sizes: xs, sm, md, lg, xl
  - Image source support
  - Initials fallback (generated from name)
  - Default placeholder (?)

- `components/ui/Spinner.tsx` - Loading indicator with:
  - Sizes: sm, md, lg
  - Custom color support
  - Uses ActivityIndicator

- `components/ui/Toast.tsx` - Notification toast with:
  - Types: success, error, warning, info
  - Slide-in animation
  - Auto-dismiss with configurable duration
  - Close button
  - Icon based on type

- `components/ui/Modal.tsx` - Modal component with:
  - Title and footer support
  - Scale and opacity animations
  - Backdrop press to close (configurable)
  - Theme-aware colors

- `components/ui/Skeleton.tsx` - Loading skeleton with:
  - Variants: text, circular, rectangular, rounded
  - Custom width/height
  - Shimmer animation
  - SkeletonGroup component for repeated skeletons

- `components/ui/index.ts` - Central export file for all UI components

**Theme Constants Updated:**
- `constants/theme.ts` - Added design tokens from PRD:
  - BrandColors: primary (#F94623), primaryLight, primaryDark
  - StatusColors: available, occupied, reserved, needsAttention, ready, preparing, pending
  - CategoryColors: kitchen, bar
  - Spacing: 4px grid (xs, sm, md, lg, xl, 2xl, 3xl, 4xl)
  - BorderRadius: sm, md, lg, xl, 2xl, full
  - Extended Colors with light/dark themes including textSecondary, textMuted, backgroundSecondary, border colors, error/success/warning/info colors

**Files Modified:**
- `jest.setup.js` - Added react-native-reanimated mock
- `jest.config.js` - Updated test patterns for UI components

**Tests Created:**
- `src/__tests__/ui-components-render.test.tsx` - 62 tests covering:
  - Theme constants (BrandColors, StatusColors, CategoryColors, Spacing, BorderRadius, Colors)
  - UI component exports verification
  - Button render tests (variants, sizes, loading, disabled, icons)
  - Input render tests (label, error, hint, icons, disabled)
  - Card render tests (padding, pressable, elevated, bordered)
  - Badge render tests (variants, sizes)
  - Avatar render tests (name, sizes, image source)
  - Spinner render tests (sizes, color)
  - Modal component verification
  - Skeleton render tests (variants, dimensions)
  - SkeletonGroup render tests (count, direction, spacing)

**Test Results:**
- 303 tests passing (12 dependency + 70 types + 33 API client + 55 API endpoints + 31 auth store + 16 login screen + 24 protected route + 62 UI components tests)

**Linting:**
- All files pass Biome linting checks (1 acceptable warning for array index key in SkeletonGroup)

---

### Task 2.1: Create table store (COMPLETED)

**Files Created:**
- `src/stores/tableStore.ts` - Full-featured Zustand table store with:
  - `TableState` interface defining all state and actions
  - Tables array cache from API
  - Zones array cache from API
  - Selected table ID tracking
  - Selected zone ID tracking
  - Loading states for tables and zones (independent)
  - Error state handling
  - `fetchTables()` - Fetches all tables from API
  - `fetchZones()` - Fetches all zones from API
  - `fetchAll()` - Fetches both tables and zones in parallel
  - `selectTable(tableId)` - Selects a table by ID
  - `selectZone(zoneId)` - Selects a zone by ID (clears table selection if table not in new zone)
  - `getTableById(tableId)` - Returns table by ID
  - `getZoneById(zoneId)` - Returns zone by ID
  - `getTablesByZone(zoneId)` - Returns all tables in a specific zone
  - `clearError()` - Clears error message
  - `reset()` - Resets store to initial state

**Custom Hooks Exported:**
- `useTableStore` - Full store access
- `useTables` - Optimized hook for tables array only
- `useZones` - Optimized hook for zones array only
- `useSelectedTable` - Returns the full selected table object
- `useSelectedZone` - Returns the full selected zone object
- `useTablesInSelectedZone` - Returns tables filtered by selected zone
- `useTableLoading` - Loading states (isLoadingTables, isLoadingZones, isLoading)
- `useTableError` - Error state only
- `useSelectedIds` - Selected IDs (selectedTableId, selectedZoneId)

**Files Modified:**
- `src/stores/index.ts` - Updated to export all table store functions and types
- `jest.config.js` - Added table-store.test.ts to test match patterns

**Tests Created:**
- `src/__tests__/table-store.test.ts` - 36 tests covering:
  - Initial state verification
  - fetchTables success and error handling
  - fetchZones success and error handling
  - fetchAll parallel execution
  - selectTable functionality
  - selectZone functionality (including table selection clearing)
  - getTableById functionality
  - getZoneById functionality
  - getTablesByZone filtering
  - clearError functionality
  - reset functionality
  - Loading state transitions
  - All hook exports verification
  - TableState type export verification
  - Store index exports verification

**Test Results:**
- 339 tests passing (303 previous + 36 table store tests)

**Linting:**
- All files pass Biome linting checks (1 acceptable warning for array index key in SkeletonGroup)

---

### Task 2.2: Implement Zones/Tables data fetching (COMPLETED)

**Files Created:**
- `src/hooks/useTableQueries.ts` - React Query hooks for tables and zones data fetching with:
  - Query key factories (`tableQueryKeys`, `zoneQueryKeys`) for targeted cache invalidation
  - `useTables(options?)` - Fetch all tables with optional filtering/pagination
  - `useTable({ id })` - Fetch a single table by ID
  - `useZones(options?)` - Fetch all zones with optional filtering/pagination
  - `useZone({ id })` - Fetch a single zone by ID
  - `useTablesAndZones(options?)` - Combined hook to fetch both tables and zones together
  - `useTablesByZone(tables, zoneId)` - Utility to filter tables by zone from cached data
  - `useTableCacheActions()` - Cache management utilities:
    - `invalidateTables(params?)` - Invalidate table queries
    - `invalidateZones(params?)` - Invalidate zone queries
    - `invalidateAll()` - Invalidate both tables and zones
    - `prefetchTables(params?)` - Prefetch table data
    - `prefetchZones(params?)` - Prefetch zone data
    - `prefetchAll()` - Prefetch both tables and zones
  - Default stale time: 5 minutes
  - Default cache time: 30 minutes
  - Pull-to-refresh support via `refetchAll()` in combined hook

**Files Modified:**
- `src/hooks/index.ts` - Updated to export all table query hooks and types
- `jest.config.js` - Added table-queries.test.tsx to web test environment

**Tests Created:**
- `src/__tests__/table-queries.test.tsx` - 38 tests covering:
  - Query keys generation (12 tests)
    - tableQueryKeys.all, lists, list with/without params, details, detail
    - zoneQueryKeys.all, lists, list with/without params, details, detail
  - useTables hook (3 tests)
    - Successful fetch
    - Fetch with params
    - Error handling
  - useTable hook (2 tests)
    - Fetch single table by ID
    - Disabled when ID is empty
  - useZones hook (3 tests)
    - Successful fetch
    - Fetch active zones only
    - Error handling
  - useZone hook (2 tests)
    - Fetch single zone by ID
    - Disabled when ID is empty
  - useTablesAndZones hook (3 tests)
    - Fetch both tables and zones
    - Combined error reporting
    - refetchAll function
  - useTablesByZone utility (4 tests)
    - Filter by zone ID
    - Return all when zoneId undefined
    - Return empty when tables undefined
    - Return empty when no match
  - useTableCacheActions hook (7 tests)
    - Return all cache action functions
    - invalidateTables with/without params
    - invalidateZones
    - invalidateAll
    - prefetchTables
    - prefetchZones
    - prefetchAll
  - Hook exports verification (2 tests)

**Test Results:**
- 377 tests passing (339 previous + 38 table queries tests)

**Linting:**
- All files pass Biome linting checks (1 acceptable warning for array index key in SkeletonGroup)